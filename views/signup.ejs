<!DOCTYPE html>
<html lang="en">
  <%- include('./partials/head.ejs') %>
  <body>
    <div class="container">
      <form class="form">
        <p class="title">Sign Up</p>
        <input
          placeholder="Email"
          class="username input"
          type="text"
          name="email"
          required
        />
        <div class="error email"></div>
        <input
          placeholder="Password"
          class="password input"
          type="password"
          name="password"
          required
        />
        <div class="error password"></div>
        <button class="btn" type="submit">sign Up</button>
      </form>
    </div>
  </body>
  <script>
    const form = document.querySelector("form");
    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      const email = form.email.value;
      const password = form.password.value;
      console.log(email, password);

      try {
        const res = await fetch("/homy/signup", {
          method: "POST",
          body: JSON.stringify({ email, password }),
          headers: { "content-type": "application/json" },
        });
      } catch (err) {
        console.log(err);
      }
    });
  </script>
</html>
